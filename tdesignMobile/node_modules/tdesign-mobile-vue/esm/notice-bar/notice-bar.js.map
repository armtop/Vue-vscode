{"version":3,"file":"notice-bar.js","sources":["../../src/notice-bar/notice-bar.vue","../../src/notice-bar/notice-bar.vue?vue&type=template&id=d82e140e&lang.js"],"sourcesContent":["<template>\n  <div v-if=\"isShow\" :class=\"rootClasses\">\n    <!-- prefixIcon -->\n    <div\n      v-if=\"prefixIcon && prefixIconContent\"\n      :class=\"`${name}__prefix-icon`\"\n      @click=\"() => handleClick('prefix-icon')\"\n    >\n      <t-node :content=\"prefixIconContent\"></t-node>\n    </div>\n    <!-- content -->\n    <div ref=\"listDOM\" :class=\"`${name}__content-wrap`\" @click=\"() => handleClick('content')\">\n      <div v-if=\"direction === 'vertical' && isArray(content)\">\n        <t-swiper\n          autoplay\n          loop\n          direction=\"vertical\"\n          :duration=\"2000\"\n          :height=\"22\"\n          :class=\"`${name}__content--vertical`\"\n        >\n          <template v-for=\"(item, index) in content\" :key=\"index\">\n            <t-swiper-item>\n              <div :class=\"`${name}__content--vertical-item`\">{{ item }}</div>\n            </t-swiper-item>\n          </template>\n        </t-swiper>\n      </div>\n      <div\n        v-else\n        ref=\"itemDOM\"\n        :class=\"[`${name}__content`, !scroll.marquee ? `${name}__content-wrapable` : '']\"\n        :style=\"scroll.marquee ? animateStyle : ''\"\n        @transitionend=\"handleTransitionend()\"\n      >\n        <t-node v-if=\"showContent\" :content=\"showContent\"></t-node>\n        <span v-if=\"operationContent\" :class=\"`${name}__operation`\" @click.stop=\"() => handleClick('operation')\">\n          <t-node :content=\"operationContent\"></t-node>\n        </span>\n      </div>\n    </div>\n    <!-- suffixIcon -->\n    <div v-if=\"suffixIconContent\" :class=\"`${name}__suffix-icon`\" @click=\"() => handleClick('suffix-icon')\">\n      <t-node :content=\"suffixIconContent\"></t-node>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  reactive,\n  ref,\n  toRefs,\n  computed,\n  onMounted,\n  nextTick,\n  defineComponent,\n  h,\n  getCurrentInstance,\n  watch,\n} from 'vue';\nimport { InfoCircleFilledIcon, CheckCircleFilledIcon } from 'tdesign-icons-vue-next';\nimport isArray from 'lodash/isArray';\nimport { Swiper as TSwiper, SwiperItem as TSwiperItem } from '../swiper';\nimport NoticeBarProps from './props';\nimport { NoticeBarTrigger, DrawMarquee } from './type';\nimport config from '../config';\nimport { renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-notice-bar`;\nconst iconDefault = {\n  info: h(InfoCircleFilledIcon),\n  success: h(CheckCircleFilledIcon),\n  warning: h(InfoCircleFilledIcon),\n  error: h(InfoCircleFilledIcon),\n};\nexport default defineComponent({\n  name,\n  components: { TNode, TSwiper, TSwiperItem },\n  props: NoticeBarProps,\n  emits: ['click'],\n  setup(props, context) {\n    const internalInstance = getCurrentInstance();\n    // 初始化数据\n    const state = reactive({\n      duration: 0,\n      offset: 0,\n      listWidth: 0,\n      itemWidth: 0,\n      timer: null,\n      nextTimer: null,\n      scroll: {\n        marquee: false,\n        speed: 50,\n        loop: -1, // 值为 -1 表示循环播放，值为 0 表示不循环播放\n        delay: 0,\n      },\n    });\n\n    const rootClasses = computed(() => [`${name}`, `${name}--${props.theme}`]);\n\n    // prefix-icon\n    const prefixIconContent = computed(() =>\n      renderTNode(internalInstance, 'prefixIcon', { defaultNode: iconDefault[props.theme || 'info'] }),\n    );\n\n    // suffix-icon\n    const suffixIconContent = computed(() => renderTNode(internalInstance, 'suffixIcon'));\n    // operation\n    const operationContent = computed(() => renderTNode(internalInstance, 'operation'));\n    // content\n    const showContent = computed(() => renderTNode(internalInstance, 'content'));\n    // click\n    function handleClick(trigger: NoticeBarTrigger) {\n      props.onClick?.(trigger);\n    }\n    // 动画 i\n    const animateStyle = computed(() => ({\n      transform: state.offset ? `translateX(${state.offset}px)` : '',\n      transitionDuration: `${state.duration}s`,\n      transitionTimingFunction: 'linear',\n    }));\n\n    const listDOM = ref();\n    const itemDOM = ref();\n\n    const { visible, modelValue } = toRefs(props);\n    const [isShow, setStatusValue] = useVModel(visible, modelValue, props.defaultVisible);\n    function handleScrolling() {\n      if (!props?.marquee || (props?.marquee as DrawMarquee)?.loop === 0) {\n        return;\n      }\n      // 初始化动画参数\n      if (typeof props.marquee === 'boolean') {\n        state.scroll = { ...state.scroll, marquee: props.marquee };\n      }\n      const marquee = props.marquee as DrawMarquee;\n      state.scroll = {\n        marquee: true,\n        loop: typeof marquee?.loop === 'undefined' ? state.scroll.loop : marquee.loop,\n        speed: marquee.speed ?? state.scroll.speed,\n        delay: marquee.delay ?? state.scroll.delay,\n      };\n      // 设置动画\n      setTimeout(() => {\n        const listDOMWidth = listDOM.value?.getBoundingClientRect().width;\n        const itemDOMWidth = itemDOM.value?.getBoundingClientRect().width;\n        if (itemDOMWidth >= listDOMWidth) {\n          state.offset = -itemDOMWidth;\n          state.duration = itemDOMWidth / state.scroll.speed;\n          state.listWidth = listDOMWidth;\n          state.itemWidth = itemDOMWidth;\n        }\n      }, state.scroll.delay);\n    }\n    // 动画结束后，初始化动画\n    function handleTransitionend() {\n      // 触发再次滚的\n      state.scroll.loop = --state.scroll.loop;\n      if (state.scroll.loop === 0) {\n        state.scroll = {\n          ...state.scroll,\n          marquee: false,\n        };\n        return;\n      }\n      state.offset = state.listWidth;\n      state.duration = 0;\n\n      setTimeout(() => {\n        state.offset = -state.itemWidth;\n        state.duration = (state.itemWidth + state.listWidth) / state.scroll.speed;\n      }, 0);\n    }\n    onMounted(() => {\n      nextTick(() => {\n        if (isShow.value) {\n          handleScrolling();\n        }\n      });\n    });\n    watch(\n      () => isShow.value,\n      () => {\n        nextTick(() => {\n          if (isShow.value) {\n            state.offset = state.listWidth;\n            state.duration = 0;\n            handleScrolling();\n          }\n        });\n      },\n    );\n\n    return {\n      isArray,\n      name,\n      ...toRefs(props),\n      ...toRefs(state),\n      rootClasses,\n      prefixIconContent,\n      suffixIconContent,\n      operationContent,\n      showContent,\n      isShow,\n      handleClick,\n      listDOM,\n      itemDOM,\n      animateStyle,\n      handleScrolling,\n      handleTransitionend,\n    };\n  },\n});\n</script>\n","<template>\n  <div v-if=\"isShow\" :class=\"rootClasses\">\n    <!-- prefixIcon -->\n    <div\n      v-if=\"prefixIcon && prefixIconContent\"\n      :class=\"`${name}__prefix-icon`\"\n      @click=\"() => handleClick('prefix-icon')\"\n    >\n      <t-node :content=\"prefixIconContent\"></t-node>\n    </div>\n    <!-- content -->\n    <div ref=\"listDOM\" :class=\"`${name}__content-wrap`\" @click=\"() => handleClick('content')\">\n      <div v-if=\"direction === 'vertical' && isArray(content)\">\n        <t-swiper\n          autoplay\n          loop\n          direction=\"vertical\"\n          :duration=\"2000\"\n          :height=\"22\"\n          :class=\"`${name}__content--vertical`\"\n        >\n          <template v-for=\"(item, index) in content\" :key=\"index\">\n            <t-swiper-item>\n              <div :class=\"`${name}__content--vertical-item`\">{{ item }}</div>\n            </t-swiper-item>\n          </template>\n        </t-swiper>\n      </div>\n      <div\n        v-else\n        ref=\"itemDOM\"\n        :class=\"[`${name}__content`, !scroll.marquee ? `${name}__content-wrapable` : '']\"\n        :style=\"scroll.marquee ? animateStyle : ''\"\n        @transitionend=\"handleTransitionend()\"\n      >\n        <t-node v-if=\"showContent\" :content=\"showContent\"></t-node>\n        <span v-if=\"operationContent\" :class=\"`${name}__operation`\" @click.stop=\"() => handleClick('operation')\">\n          <t-node :content=\"operationContent\"></t-node>\n        </span>\n      </div>\n    </div>\n    <!-- suffixIcon -->\n    <div v-if=\"suffixIconContent\" :class=\"`${name}__suffix-icon`\" @click=\"() => handleClick('suffix-icon')\">\n      <t-node :content=\"suffixIconContent\"></t-node>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  reactive,\n  ref,\n  toRefs,\n  computed,\n  onMounted,\n  nextTick,\n  defineComponent,\n  h,\n  getCurrentInstance,\n  watch,\n} from 'vue';\nimport { InfoCircleFilledIcon, CheckCircleFilledIcon } from 'tdesign-icons-vue-next';\nimport isArray from 'lodash/isArray';\nimport { Swiper as TSwiper, SwiperItem as TSwiperItem } from '../swiper';\nimport NoticeBarProps from './props';\nimport { NoticeBarTrigger, DrawMarquee } from './type';\nimport config from '../config';\nimport { renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-notice-bar`;\nconst iconDefault = {\n  info: h(InfoCircleFilledIcon),\n  success: h(CheckCircleFilledIcon),\n  warning: h(InfoCircleFilledIcon),\n  error: h(InfoCircleFilledIcon),\n};\nexport default defineComponent({\n  name,\n  components: { TNode, TSwiper, TSwiperItem },\n  props: NoticeBarProps,\n  emits: ['click'],\n  setup(props, context) {\n    const internalInstance = getCurrentInstance();\n    // 初始化数据\n    const state = reactive({\n      duration: 0,\n      offset: 0,\n      listWidth: 0,\n      itemWidth: 0,\n      timer: null,\n      nextTimer: null,\n      scroll: {\n        marquee: false,\n        speed: 50,\n        loop: -1, // 值为 -1 表示循环播放，值为 0 表示不循环播放\n        delay: 0,\n      },\n    });\n\n    const rootClasses = computed(() => [`${name}`, `${name}--${props.theme}`]);\n\n    // prefix-icon\n    const prefixIconContent = computed(() =>\n      renderTNode(internalInstance, 'prefixIcon', { defaultNode: iconDefault[props.theme || 'info'] }),\n    );\n\n    // suffix-icon\n    const suffixIconContent = computed(() => renderTNode(internalInstance, 'suffixIcon'));\n    // operation\n    const operationContent = computed(() => renderTNode(internalInstance, 'operation'));\n    // content\n    const showContent = computed(() => renderTNode(internalInstance, 'content'));\n    // click\n    function handleClick(trigger: NoticeBarTrigger) {\n      props.onClick?.(trigger);\n    }\n    // 动画 i\n    const animateStyle = computed(() => ({\n      transform: state.offset ? `translateX(${state.offset}px)` : '',\n      transitionDuration: `${state.duration}s`,\n      transitionTimingFunction: 'linear',\n    }));\n\n    const listDOM = ref();\n    const itemDOM = ref();\n\n    const { visible, modelValue } = toRefs(props);\n    const [isShow, setStatusValue] = useVModel(visible, modelValue, props.defaultVisible);\n    function handleScrolling() {\n      if (!props?.marquee || (props?.marquee as DrawMarquee)?.loop === 0) {\n        return;\n      }\n      // 初始化动画参数\n      if (typeof props.marquee === 'boolean') {\n        state.scroll = { ...state.scroll, marquee: props.marquee };\n      }\n      const marquee = props.marquee as DrawMarquee;\n      state.scroll = {\n        marquee: true,\n        loop: typeof marquee?.loop === 'undefined' ? state.scroll.loop : marquee.loop,\n        speed: marquee.speed ?? state.scroll.speed,\n        delay: marquee.delay ?? state.scroll.delay,\n      };\n      // 设置动画\n      setTimeout(() => {\n        const listDOMWidth = listDOM.value?.getBoundingClientRect().width;\n        const itemDOMWidth = itemDOM.value?.getBoundingClientRect().width;\n        if (itemDOMWidth >= listDOMWidth) {\n          state.offset = -itemDOMWidth;\n          state.duration = itemDOMWidth / state.scroll.speed;\n          state.listWidth = listDOMWidth;\n          state.itemWidth = itemDOMWidth;\n        }\n      }, state.scroll.delay);\n    }\n    // 动画结束后，初始化动画\n    function handleTransitionend() {\n      // 触发再次滚的\n      state.scroll.loop = --state.scroll.loop;\n      if (state.scroll.loop === 0) {\n        state.scroll = {\n          ...state.scroll,\n          marquee: false,\n        };\n        return;\n      }\n      state.offset = state.listWidth;\n      state.duration = 0;\n\n      setTimeout(() => {\n        state.offset = -state.itemWidth;\n        state.duration = (state.itemWidth + state.listWidth) / state.scroll.speed;\n      }, 0);\n    }\n    onMounted(() => {\n      nextTick(() => {\n        if (isShow.value) {\n          handleScrolling();\n        }\n      });\n    });\n    watch(\n      () => isShow.value,\n      () => {\n        nextTick(() => {\n          if (isShow.value) {\n            state.offset = state.listWidth;\n            state.duration = 0;\n            handleScrolling();\n          }\n        });\n      },\n    );\n\n    return {\n      isArray,\n      name,\n      ...toRefs(props),\n      ...toRefs(state),\n      rootClasses,\n      prefixIconContent,\n      suffixIconContent,\n      operationContent,\n      showContent,\n      isShow,\n      handleClick,\n      listDOM,\n      itemDOM,\n      animateStyle,\n      handleScrolling,\n      handleTransitionend,\n    };\n  },\n});\n</script>\n"],"names":["prefix","config","name","iconDefault","info","h","InfoCircleFilledIcon","success","CheckCircleFilledIcon","warning","error","defineComponent","components","TNode","TSwiper","TSwiperItem","props","NoticeBarProps","emits","setup","context","internalInstance","getCurrentInstance","state","reactive","duration","offset","listWidth","itemWidth","timer","nextTimer","scroll","marquee","speed","loop","delay","rootClasses","computed","concat","theme","prefixIconContent","renderTNode","defaultNode","suffixIconContent","operationContent","showContent","handleClick","trigger","_props$onClick","onClick","call","animateStyle","transform","transitionDuration","transitionTimingFunction","listDOM","ref","itemDOM","_toRefs","toRefs","visible","modelValue","_useVModel","useVModel","defaultVisible","_useVModel2","_slicedToArray","isShow","setStatusValue","handleScrolling","_props$marquee","_marquee$speed","_marquee$delay","setTimeout","_listDOM$value","_itemDOM$value","listDOMWidth","value","getBoundingClientRect","width","itemDOMWidth","handleTransitionend","_objectSpread","onMounted","nextTick","watch","isArray","_ctx","_createElementBlock","class","prefixIcon","_createVNode","_component_t_node","content","_createElementVNode","_hoisted_1","_component_t_swiper","autoplay","direction","height","_openBlock","_Fragment","_renderList","item","index","_createBlock","_component_t_swiper_item","style","_normalizeStyle","onTransitionend"],"mappings":"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"}