{"version":3,"file":"index.js","sources":["../../src/tag/tag.tsx","../../src/tag/check-tag.tsx","../../src/tag/index.ts"],"sourcesContent":["import { computed, defineComponent } from 'vue';\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { useTNodeJSX, useContent } from '../hooks/tnode';\nimport config from '../config';\nimport TagProps from './props';\nimport { usePrefixClass } from '../hooks/useClass';\n\nconst { prefix } = config;\nconst name = `${prefix}-tag`;\n\nexport default defineComponent({\n  name,\n  components: {\n    CloseIcon,\n  },\n  props: TagProps,\n  emits: ['close', 'click'],\n  setup(props) {\n    const tagClass = usePrefixClass('tag');\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n\n    const tagStyle = computed(() => {\n      return props.maxWidth\n        ? { maxWidth: typeof props.maxWidth === 'number' ? `${props.maxWidth}px` : props.maxWidth }\n        : {};\n    });\n\n    const tagClasses = computed(() => [\n      `${tagClass.value}`,\n      `${tagClass.value}--${props.theme}`,\n      `${tagClass.value}--${props.shape}`,\n      `${tagClass.value}--${props.variant}`,\n      `${tagClass.value}--${props.size}`,\n      {\n        [`${tagClass.value}--closable`]: props.closable,\n        [`${tagClass.value}--disabled`]: props.disabled,\n      },\n    ]);\n\n    const handleClose = (e: MouseEvent): void => {\n      e.stopPropagation();\n      if (!props.disabled) {\n        props.onClose?.({ e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        props.onClick?.({ e });\n      }\n    };\n\n    return () => {\n      // 标签内容\n      const tagContent = renderContent('default', 'content');\n      // 图标\n      const icon = renderTNodeJSX('icon');\n      return (\n        <span\n          class={tagClasses.value}\n          style={tagStyle.value}\n          aria-disabled={props.disabled}\n          role=\"button\"\n          onClick={handleClick}\n        >\n          {icon && <span class={`${tagClass.value}__icon`}>{icon}</span>}\n          <span class={`${tagClass.value}__text`}>{tagContent}</span>\n          {props.closable && (\n            <span class={`${tagClass.value}__icon-close`} onClick={handleClose}>\n              <close-icon />\n            </span>\n          )}\n        </span>\n      );\n    };\n  },\n});\n","import { defineComponent, computed, toRefs } from 'vue';\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport config from '../config';\nimport CheckTagProps from './check-tag-props';\nimport { usePrefixClass } from '../hooks/useClass';\nimport { useContent, useTNodeJSX } from '../hooks/tnode';\nimport { useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-check-tag`;\n\nexport default defineComponent({\n  name,\n  props: CheckTagProps,\n  setup(props) {\n    const tagClass = usePrefixClass('tag');\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n\n    const { checked, modelValue } = toRefs(props);\n    const [innerChecked, setInnerChecked] = useVModel(\n      checked,\n      modelValue,\n      props.defaultChecked,\n      props.onChange,\n      'checked',\n    );\n\n    const contentIsArray = computed(() => {\n      if (Array.isArray(props.content) && props.content.length === 2) {\n        return true;\n      }\n      return false;\n    });\n\n    const tagClasses = computed(() => [\n      `${tagClass.value}`,\n      `${tagClass.value}--checkable`,\n      `${tagClass.value}--${props.shape}`,\n      `${tagClass.value}--${innerChecked.value ? 'primary' : 'default'}`,\n      `${tagClass.value}--${props.size}`,\n      `${tagClass.value}--${props.variant}`,\n      {\n        [`${tagClass.value}--closable`]: props.closable,\n        [`${tagClass.value}--disabled`]: props.disabled,\n        [`${tagClass.value}--checked`]: !props.disabled && innerChecked.value,\n      },\n    ]);\n\n    const handleClick = (e: MouseEvent) => {\n      if (!props.disabled) {\n        props.onClick?.({ e });\n        setInnerChecked(!innerChecked.value);\n      }\n    };\n\n    const handleClose = (e: MouseEvent): void => {\n      e.stopPropagation();\n      if (!props.disabled) {\n        props.onClose?.({ e });\n      }\n    };\n\n    return () => {\n      const icon = renderTNodeJSX('icon');\n\n      const readerText = () => {\n        if (contentIsArray.value) {\n          return innerChecked.value ? props.content[0] : props.content[1];\n        }\n\n        const content = renderContent('default', 'content');\n\n        return content;\n      };\n\n      return (\n        <span class={tagClasses.value} aria-disabled={props.disabled} role=\"button\" onClick={handleClick}>\n          {icon && <span class={`${tagClass.value}__icon`}>{icon}</span>}\n          <span class={`${tagClass.value}__text`}>{readerText()}</span>\n          {props.closable && (\n            <span class={`${tagClass.value}__icon-close`} onClick={handleClose}>\n              <CloseIcon />\n            </span>\n          )}\n        </span>\n      );\n    };\n  },\n});\n","import LocalTag from './tag';\nimport LocalCheckTag from './check-tag';\nimport { withInstall, WithInstallType } from '../shared';\nimport { TdCheckTagProps, TdTagProps } from './type';\n\nimport './style';\n\nexport * from './type';\nexport type CheckTagProps = TdCheckTagProps;\nexport type TagProps = TdTagProps;\n\nexport const Tag: WithInstallType<typeof LocalTag> = withInstall(LocalTag);\nexport const CheckTag: WithInstallType<typeof LocalCheckTag> = withInstall(LocalCheckTag);\n"],"names":["prefix","config","name","defineComponent","components","CloseIcon","props","TagProps","emits","setup","tagClass","usePrefixClass","renderTNodeJSX","useTNodeJSX","renderContent","useContent","tagStyle","computed","maxWidth","concat","tagClasses","value","theme","shape","variant","size","_defineProperty","closable","disabled","handleClose","e","stopPropagation","_props$onClose","onClose","call","handleClick","_props$onClick","onClick","tagContent","icon","_createVNode","_resolveComponent","CheckTagProps","_toRefs","toRefs","checked","modelValue","_useVModel","useVModel","defaultChecked","onChange","_useVModel2","_slicedToArray","innerChecked","setInnerChecked","contentIsArray","Array","isArray","content","length","readerText","Tag","withInstall","LocalTag","CheckTag","LocalCheckTag"],"mappings":"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"}