{"version":3,"file":"index.js","sources":["../../src/switch/switch.tsx","../../src/switch/index.ts"],"sourcesContent":["import { computed, defineComponent } from 'vue';\nimport TLoading from '../loading';\nimport { useToggle, useDefault } from '../shared';\nimport config from '../config';\nimport SwitchProps from './props';\nimport { SwitchValue, TdSwitchProps } from './type';\nimport { useFormDisabled } from '../form/hooks';\nimport { usePrefixClass } from '../hooks/useClass';\n\nconst { prefix } = config;\nconst name = `${prefix}-switch`;\nexport default defineComponent({\n  name,\n  props: SwitchProps,\n  setup(props, context) {\n    const switchClass = usePrefixClass('switch');\n\n    const disabled = useFormDisabled();\n    const switchValues = props.customValue || [true, false];\n    const [innerValue] = useDefault<SwitchValue, TdSwitchProps>(props, context.emit, 'value', 'change');\n    const { state, toggle } = useToggle<SwitchValue>(switchValues, innerValue.value);\n    const checked = computed(() => innerValue.value === switchValues[0]);\n    const switchClasses = computed(() => [\n      `${switchClass.value}`,\n      `${switchClass.value}--${props.size}`,\n      {\n        [`${switchClass.value}--checked`]: checked.value,\n        [`${switchClass.value}--disabled`]: disabled.value || props.loading,\n      },\n    ]);\n    const dotClasses = computed(() => [\n      `${switchClass.value}__dot`,\n      `${switchClass.value}__dot--${props.size}`,\n      {\n        [`${switchClass.value}__dot--checked`]: checked.value,\n        [`${switchClass.value}__dot--plain`]: props.label?.length !== 2 && props.icon?.length !== 2 && !props.loading,\n      },\n    ]);\n    const labelClasses = computed(() => [\n      `${switchClass.value}__label`,\n      `${switchClass.value}__label--${props.size}`,\n      {\n        [`${switchClass.value}__label--checked`]: checked.value,\n      },\n    ]);\n    const iconContent = computed(() => props.icon[checked.value ? 0 : 1]);\n\n    function handleToggle(event: Event) {\n      event.preventDefault();\n      if (disabled.value || props.loading) {\n        return;\n      }\n\n      if (state.value === innerValue.value) {\n        toggle();\n      }\n\n      innerValue.value = state.value;\n    }\n    return () => {\n      const readerContent = () => {\n        if (props.loading) {\n          return <TLoading inherit-color size=\"16.25px\" />;\n        }\n        if (props.label.length === 2) {\n          return checked.value ? props.label[0] : props.label[1];\n        }\n        return iconContent.value;\n      };\n      return (\n        <div class={switchClasses.value} onClick={handleToggle}>\n          <div class={dotClasses.value}>\n            <div class={labelClasses.value}>{readerContent()}</div>\n          </div>\n        </div>\n      );\n    };\n  },\n});\n","import Switch from './switch';\nimport { withInstall, WithInstallType } from '../shared';\nimport { TdSwitchProps } from './type';\n\nimport './style';\n\nexport * from './type';\nexport type SwitchProps = TdSwitchProps;\n\nconst _Switch: WithInstallType<typeof Switch> = withInstall(Switch);\nexport default _Switch;\n"],"names":["prefix","config","name","defineComponent","props","SwitchProps","setup","context","switchClass","usePrefixClass","disabled","useFormDisabled","switchValues","customValue","_useDefault","useDefault","emit","_useDefault2","_slicedToArray","innerValue","_useToggle","useToggle","value","state","toggle","checked","computed","switchClasses","concat","size","_defineProperty","loading","dotClasses","_props$label","_props$icon","label","length","icon","labelClasses","iconContent","handleToggle","event","preventDefault","readerContent","_createVNode","TLoading","_Switch","withInstall","Switch"],"mappings":"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"}