{"version":3,"file":"index.js","sources":["../../src/button/button.tsx","../../src/button/index.ts"],"sourcesContent":["import { computed, toRefs, defineComponent, getCurrentInstance } from 'vue';\n\nimport { space } from 'postcss/lib/list';\nimport TLoading from '../loading';\nimport { Hover } from '../shared';\nimport ButtonProps from './props';\nimport config from '../config';\nimport { useFormDisabled } from '../form/hooks';\nimport { TdButtonProps } from './type';\nimport { usePrefixClass } from '../hooks/useClass';\nimport { useContent, useTNodeJSX } from '../hooks/tnode';\n\nconst { prefix } = config;\nconst name = `${prefix}-button`;\n\nexport default defineComponent({\n  name,\n  directives: { Hover },\n  props: ButtonProps,\n  setup(props) {\n    const buttonClass = usePrefixClass('button');\n    const renderTNodeJSX = useTNodeJSX();\n    const renderTNodeContent = useContent();\n    const isDisabled = useFormDisabled();\n\n    const buttonClasses = computed(() => [\n      `${buttonClass.value}`,\n      `${buttonClass.value}--size-${props.size}`,\n      `${buttonClass.value}--${props.variant}`,\n      {\n        [`${buttonClass.value}--${props.theme}`]: props.theme,\n        [`${buttonClass.value}--${props.shape}`]: props.shape,\n        [`${buttonClass.value}--ghost`]: props.ghost,\n        [`${buttonClass.value}--block`]: props.block,\n        [`${buttonClass.value}--disabled`]: isDisabled.value,\n        [`${buttonClass.value}--loading`]: props.loading,\n      },\n    ]);\n\n    const handleClick = (e: MouseEvent) => {\n      if (!props.loading && !isDisabled.value) {\n        props.onClick?.(e);\n      } else {\n        e.stopPropagation();\n      }\n    };\n\n    return () => {\n      const suffix = renderTNodeJSX('suffix');\n\n      const readerIcon = () => {\n        if (props.loading) {\n          return <TLoading inherit-color {...(props.loadingProps as TdButtonProps['loadingProps'])} />;\n        }\n\n        return renderTNodeJSX('icon');\n      };\n\n      const readerContent = () => {\n        const content = renderTNodeContent('default', 'content');\n        return <span class={`${buttonClass.value}__content`}>{content}</span>;\n      };\n      return (\n        <button\n          class={buttonClasses.value}\n          role=\"button\"\n          type={props.type}\n          disabled={props.disabled}\n          aria-disabled={props.disabled}\n          onClick={handleClick}\n          v-hover={{ className: `${buttonClass.value}--hover` }}\n        >\n          {readerIcon()}\n          {readerContent()}\n          {suffix}\n        </button>\n      );\n    };\n  },\n});\n","import Button from './button';\nimport { withInstall, WithInstallType } from '../shared';\n\nimport './style';\nimport { TdButtonProps } from './type';\n\nexport * from './type';\nexport type ButtonProps = TdButtonProps;\n\nconst _Button: WithInstallType<typeof Button> = withInstall(Button);\nexport default _Button;\n"],"names":["prefix","config","name","defineComponent","directives","Hover","props","ButtonProps","setup","buttonClass","usePrefixClass","renderTNodeJSX","useTNodeJSX","renderTNodeContent","useContent","isDisabled","useFormDisabled","buttonClasses","computed","concat","value","size","variant","_defineProperty","theme","shape","ghost","block","loading","handleClick","e","_props$onClick","onClick","call","stopPropagation","suffix","readerIcon","_createVNode","TLoading","_mergeProps","loadingProps","readerContent","content","_withDirectives","type","disabled","_resolveDirective","className","_Button","withInstall","Button"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,IAAQA,SAAWC,iBAAA,CAAXD;AACR,IAAME,iBAAUF,MAAA,EAAA,SAAA,CAAA,CAAA;AAEhB,aAAeG,mBAAgB,CAAA;AAC7BD,EAAAA,IAAA,EAAAA,IAAA;AACAE,EAAAA,UAAA,EAAY;AAAEC,IAAAA,KAAM,EAANA,uBAAAA;GAAM;AACpBC,EAAAA,KAAO,EAAAC,uBAAA;EACPC,qBAAMF,CAAAA,KAAO,EAAA;AACL,IAAA,IAAAG,WAAA,GAAcC,8BAAe,QAAQ,CAAA,CAAA;AAC3C,IAAA,IAAMC,iBAAiBC,uBAAY,EAAA,CAAA;AACnC,IAAA,IAAMC,qBAAqBC,sBAAW,EAAA,CAAA;AACtC,IAAA,IAAMC,aAAaC,0BAAgB,EAAA,CAAA;IAE7B,IAAAC,aAAA,GAAgBC,aAAS,YAAA;MAAA,OAAM,CAAA,EAAA,CAAAC,MAAA,CAChCV,WAAY,CAAAW,KAAA,CAAAD,EAAAA,EAAAA,CAAAA,MAAA,CACZV,WAAY,CAAAW,KAAA,aAAAD,MAAA,CAAeb,KAAM,CAAAe,IAAA,CAAA,EAAA,EAAA,CAAAF,MAAA,CACjCV,WAAY,CAAAW,KAAA,EAAA,IAAA,CAAA,CAAAD,MAAA,CAAUb,KAAM,CAAAgB,OAAA,CAAAC,EAAAA,mCAAA,CAAAA,mCAAA,CAAAA,mCAAA,CAAAA,mCAAA,CAAAA,mCAAA,CAAAA,mCAAA,QAAAJ,MAAA,CAEzBV,WAAA,CAAYW,KAAU,EAAA,IAAA,CAAA,CAAAD,MAAA,CAAAb,KAAA,CAAMkB,QAAUlB,KAAM,CAAAkB,KAAA,CAAAL,EAAAA,EAAAA,CAAAA,MAAA,CAC5CV,WAAA,CAAYW,KAAU,QAAAD,MAAA,CAAAb,KAAA,CAAMmB,QAAUnB,KAAM,CAAAmB,KAAA,CAAAN,EAAAA,EAAAA,CAAAA,MAAA,CAC5CV,WAAY,CAAAW,KAAA,EAAiBd,SAAAA,CAAAA,EAAAA,KAAM,CAAAoB,KAAA,CAAAP,EAAAA,EAAAA,CAAAA,MAAA,CACnCV,WAAY,CAAAW,KAAA,EAAA,SAAA,CAAA,EAAiBd,KAAM,CAAAqB,KAAA,CAAA,EAAA,EAAA,CAAAR,MAAA,CACnCV,WAAY,CAAAW,KAAA,EAAA,YAAA,CAAA,EAAoBL,UAAW,CAAAK,KAAA,CAAAD,EAAAA,EAAAA,CAAAA,MAAA,CAC3CV,WAAY,CAAAW,KAAA,EAAmBd,WAAAA,CAAAA,EAAAA,KAAM,CAAAsB,OAAA,CAE5C,CAAA,CAAA;KAAA,CAAA,CAAA;AAEK,IAAA,IAAAC,WAAA,GAAc,SAAdA,WAAAA,CAAeC,CAAkB,EAAA;MACrC,IAAI,CAACxB,KAAA,CAAMsB,OAAW,IAAA,CAACb,WAAWK,KAAO,EAAA;AAAA,QAAA,IAAAW,cAAA,CAAA;AACvC,QAAA,CAAAA,cAAA,GAAAzB,KAAA,CAAM0B,wCAAND,KAAAA,CAAAA,IAAAA,cAAA,CAAAE,IAAA,CAAA3B,KAAA,EAAgBwB,CAAC,CAAA,CAAA;AACnB,OAAO,MAAA;QACLA,CAAA,CAAEI,eAAgB,EAAA,CAAA;AACpB,OAAA;KACF,CAAA;AAEA,IAAA,OAAO,YAAM;AACL,MAAA,IAAAC,MAAA,GAASxB,eAAe,QAAQ,CAAA,CAAA;AAEtC,MAAA,IAAMyB,aAAa,SAAbA,aAAmB;QACvB,IAAI9B,MAAMsB,OAAS,EAAA;AACjB,UAAA,OAAAS,eAAA,CAAAC,wBAAA,EAAAC,cAAA,CAAA;AAAA,YAAA,eAAA,EAAA,IAAA;WAAoCjC,EAAAA,KAAA,CAAMkC,YAAgD,CAAA,EAAA,IAAA,CAAA,CAAA;AAC5F,SAAA;QAEA,OAAO7B,eAAe,MAAM,CAAA,CAAA;OAC9B,CAAA;AAEA,MAAA,IAAM8B,gBAAgB,SAAhBA,gBAAsB;AACpB,QAAA,IAAAC,OAAA,GAAU7B,kBAAmB,CAAA,SAAA,EAAW,SAAS,CAAA,CAAA;AACvD,QAAA,OAAAwB,eAAA,CAAA,MAAA,EAAA;AAAA,UAAA,OAAA,EAAA,EAAA,CAAAlB,MAAA,CAAuBV,WAAY,CAAAW,KAAA,EAAA,WAAA,CAAA;AAAA,SAAA,EAAA,CAAmBsB;OACxD,CAAA;MAEE,OAAAC,kBAAA,CAAAN,eAAA,CAAA,QAAA,EAAA;QAAA,OACSpB,EAAAA,aAAA,CAAcG;gBAChB,QAAA;QAAA,MACCd,EAAAA,KAAA,CAAMsC,IACZ;QAAA,UAAUtC,EAAAA,MAAMuC,QAChB;QAAA,eAAevC,EAAAA,KAAM,CAAAuC,QAAA;QAAA,SACZhB,EAAAA,WAAAA;OAGRO,EAAAA,CAAAA,UAAW,EAAA,EACXK,aAAc,EAAA,EACdN,MAAA,CAAAW,CAAAA,EAAAA,CAAAA,CAAAA,oBAAA,CAJQ,OAAA,CAAA,EAAA;AAAEC,QAAAA,SAAA,EAAA5B,EAAAA,CAAAA,MAAA,CAAcV,WAAA,CAAYW,KAAe,EAAA,SAAA,CAAA;OAAA,CAAA,CAAA,CAAA,CAAA;KAO1D,CAAA;AACF,GAAA;AACF,CAAC,CAAA;;ACtED,IAAM4B,OAAA,GAA0CC,6BAAYC,MAAM;;;;"}