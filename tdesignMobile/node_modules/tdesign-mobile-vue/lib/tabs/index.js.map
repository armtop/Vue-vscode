{"version":3,"file":"index.js","sources":["../../src/tabs/tab-nav-item.tsx","../../src/tabs/tabs.tsx","../../src/tabs/tab-panel.tsx","../../src/tabs/index.ts"],"sourcesContent":["import { defineComponent } from 'vue';\nimport config from '../config';\nimport TabPanelProps from './tab-panel-props';\nimport { useContent } from '../hooks/tnode';\n\nconst { prefix } = config;\n\nexport default defineComponent({\n  name: `${prefix}-tab-nav`,\n  props: {\n    label: TabPanelProps.label,\n  },\n  setup(props) {\n    const renderTNodeContent = useContent();\n\n    return () => <div>{renderTNodeContent('default', 'label')}</div>;\n  },\n});\n","import {\n  computed,\n  defineComponent,\n  onMounted,\n  provide,\n  ref,\n  toRefs,\n  nextTick,\n  onBeforeUnmount,\n  readonly,\n  Fragment,\n  watch,\n  CSSProperties,\n  onActivated,\n  h,\n  RendererNode,\n} from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport config from '../config';\nimport props from './props';\nimport TTabNavItem from './tab-nav-item';\nimport { useVModel } from '../shared';\nimport { preventDefault } from '../shared/dom';\nimport CLASSNAMES from '../shared/constants';\nimport TSticky from '../sticky';\nimport { TdStickyProps } from '../sticky/type';\nimport TBadge from '../badge';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { TdTabPanelProps } from './type';\nimport { usePrefixClass } from '../hooks/useClass';\n\nconst { prefix } = config;\nconst name = `${prefix}-tabs`;\n\nexport default defineComponent({\n  name,\n  props,\n  setup(props) {\n    const renderTNodeJSX = useTNodeJSX();\n    const tabsClass = usePrefixClass('tabs');\n\n    const stickyProps = computed(() => ({ ...(props.stickyProps as TdStickyProps), disabled: !props.sticky }));\n    const activeClass = `${tabsClass.value}__item--active`;\n    const disabledClass = `${tabsClass.value}__item--disabled`;\n    const tabsClasses = computed(() => [`${tabsClass.value}`, props.size && CLASSNAMES.SIZE[props.size]]);\n    const navClasses = ref([`${tabsClass.value}__nav`]);\n    const startX = ref(0);\n    const startY = ref(0);\n    const endX = ref(0);\n    const endY = ref(0);\n    const canMove = ref(true);\n    const tabIndex = computed(() => {\n      let index = 0;\n      for (let i = 0; i < itemProps.value.length; i++) {\n        if (itemProps.value[i].value === currentValue.value) {\n          index = i;\n          break;\n        }\n      }\n      return index;\n    });\n\n    const { value, modelValue } = toRefs(props);\n    const [currentValue, setCurrentValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n\n    const itemProps = computed<Array<TdTabPanelProps>>(() => {\n      if (props.list) {\n        return props.list;\n      }\n      let children: RendererNode[] = renderTNodeJSX('default');\n      const res: RendererNode[] = [];\n      const label: RendererNode[] = [];\n      children?.forEach((child) => {\n        if (child.type === Fragment) {\n          res.push(...child.children);\n        } else {\n          res.push(child);\n        }\n        if (child.children?.label) {\n          label.push(child.children.label()[0] || null);\n        }\n      });\n\n      children = res.filter((child: RendererNode) => child.type.name === `${prefix}-tab-panel`);\n      return children.map((item: RendererNode, index: number) => ({\n        ...item.props,\n        label: () => label[index] || item.props.label,\n      }));\n    });\n\n    const valueList = computed(() => itemProps.value.map((v) => v.value));\n    const currentIndex = computed(() => valueList.value.indexOf(currentValue.value));\n\n    const navScroll = ref<HTMLElement>();\n    const navWrap = ref<HTMLElement>();\n    const navLine = ref<HTMLElement>();\n    const lineStyle = ref();\n    const moveToActiveTab = () => {\n      if (navWrap.value && navLine.value && props.showBottomLine) {\n        const tab = navWrap.value.querySelector<HTMLElement>(`.${activeClass}`);\n        if (!tab) return;\n        const line = navLine.value;\n        const tabInner = tab.querySelector<HTMLElement>(`.${prefix}-badge`);\n        const style: CSSProperties = {};\n        if (props.bottomLineMode === 'auto') {\n          style.width = `${Number(tabInner?.offsetWidth)}px`;\n          style.transform = `translateX(${Number(tab?.offsetLeft) + Number(tabInner?.offsetLeft)}px)`;\n        } else if (props.bottomLineMode === 'full') {\n          style.width = `${Number(tab?.offsetWidth)}px`;\n          style.transform = `translateX(${Number(tab?.offsetLeft)}px)`;\n        } else {\n          style.transform = `translateX(${\n            Number(tab?.offsetLeft) + (Number(tab?.offsetWidth) - Number(line?.offsetWidth)) / 2\n          }px)`;\n        }\n\n        if (props.animation) {\n          style.transitionDuration = `${props.animation.duration}ms`;\n        }\n\n        lineStyle.value = style;\n      }\n    };\n\n    onMounted(() => {\n      window.addEventListener('resize', moveToActiveTab, false);\n      setTimeout(() => {\n        moveToActiveTab();\n      }, 300);\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener('resize', moveToActiveTab);\n    });\n    onActivated(() => {\n      moveToActiveTab();\n    });\n\n    watch(value, () => {\n      nextTick(() => {\n        moveToActiveTab();\n      });\n    });\n\n    const handleTabClick = (event: Event, item: TdTabPanelProps) => {\n      const { value, disabled } = item;\n      if (disabled || currentValue.value === value) {\n        return false;\n      }\n      const label = isFunction(item.label) ? item.label(h).toString() : item.label;\n      setCurrentValue(value, label);\n      props.onClick?.(value, label);\n      nextTick(() => {\n        moveToActiveTab();\n      });\n    };\n\n    const handlerScroll = (context: { scrollTop: number; isFixed: boolean }) => {\n      const { scrollTop, isFixed } = context;\n      if (props.stickyProps) {\n        props.onScroll?.(scrollTop, isFixed);\n      }\n    };\n\n    // 手势滑动开始\n    const handleTouchstart = (e: TouchEvent) => {\n      if (!props.swipeable) return;\n      startX.value = e.targetTouches[0].clientX;\n      startY.value = e.targetTouches[0].clientY;\n    };\n\n    const handleTouchmove = (e: TouchEvent) => {\n      if (!props.swipeable) return;\n      if (!canMove.value) return;\n      endX.value = e.targetTouches[0].clientX;\n      endY.value = e.targetTouches[0].clientY;\n      const dValueX = Math.abs(startX.value - endX.value);\n      const dValueY = Math.abs(startY.value - endY.value);\n      if (tabIndex.value >= 0 && tabIndex.value < itemProps.value.length) {\n        if (dValueX > dValueY) {\n          // 水平滑动长度大于纵向滑动长度，那么选择水平滑动，阻止浏览器默认左右滑动事件\n          preventDefault(e, false);\n          if (dValueX <= 40) return;\n          if (startX.value > endX.value) {\n            // 向左划\n            if (tabIndex.value >= itemProps.value.length - 1) return;\n            canMove.value = false;\n            handleTabClick(e, itemProps.value[tabIndex.value + 1]);\n          } else if (startX.value < endX.value) {\n            // 向右划\n            if (tabIndex.value <= 0) return;\n            canMove.value = false;\n            handleTabClick(e, itemProps.value[tabIndex.value - 1]);\n          }\n        }\n      }\n    };\n\n    // 手势滑动结束\n    const handleTouchend = () => {\n      if (!props.swipeable) return;\n      canMove.value = true;\n      startX.value = 0;\n      endX.value = 0;\n      startY.value = 0;\n      endY.value = 0;\n    };\n\n    provide('currentValue', readonly(currentValue));\n\n    const readerNav = () => {\n      return itemProps.value.map((item, index) => {\n        const badgeProps = item['badge-props'] || item.badgeProps;\n        return (\n          <div\n            class={{\n              [`${tabsClass.value}__item ${tabsClass.value}__item--top`]: true,\n              [`${tabsClass.value}__item--evenly`]: props.spaceEvenly,\n              [activeClass]: item.value === currentValue.value,\n              [disabledClass]: item.disabled,\n              [`${tabsClass.value}__item--${props.theme}`]: true,\n            }}\n            onClick={(e) => handleTabClick(e, item)}\n          >\n            <TBadge {...badgeProps}>\n              <div\n                class={{\n                  [`${tabsClass.value}__item-inner ${tabsClass.value}__item-inner--${props.theme}`]: true,\n                  [`${tabsClass.value}__item-inner--active`]:\n                    props.theme === 'tag' && item.value === currentValue.value,\n                }}\n              >\n                <TTabNavItem label={item.label} />\n              </div>\n            </TBadge>\n            {props.theme === 'card' && index === currentIndex.value - 1 && (\n              <div class={`${tabsClass.value}__item-prefix`} />\n            )}\n            {props.theme === 'card' && index === currentIndex.value + 1 && (\n              <div class={`${tabsClass.value}__item-suffix`} />\n            )}\n          </div>\n        );\n      });\n    };\n    return () => {\n      return (\n        <div class={tabsClasses.value}>\n          <TSticky {...stickyProps.value} onScroll={handlerScroll}>\n            <div class={navClasses.value}>\n              <div\n                ref={navScroll}\n                class={`${tabsClass.value}__scroll ${tabsClass.value}__scroll--top ${tabsClass.value}__scroll--${props.theme}`}\n              >\n                <div ref={navWrap} class={`${tabsClass.value}__wrapper ${tabsClass.value}__wrapper--${props.theme}`}>\n                  {readerNav()}\n                  {props.theme === 'line' && props.showBottomLine && (\n                    <div\n                      ref={navLine}\n                      class={`${tabsClass.value}__track ${tabsClass.value}__track--top`}\n                      style={lineStyle.value}\n                    ></div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </TSticky>\n          <div\n            class={`${tabsClass.value}__content`}\n            onTouchstart={handleTouchstart}\n            onTouchmove={handleTouchmove}\n            onTouchend={handleTouchend}\n          >\n            {renderTNodeJSX('default')}\n          </div>\n        </div>\n      );\n    };\n  },\n});\n","import { defineComponent, inject, Ref, computed, ref, watch } from 'vue';\nimport config from '../config';\nimport props from './tab-panel-props';\nimport { useContent } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useClass';\nimport { TabValue } from '.';\n\nconst { prefix } = config;\nconst name = `${prefix}-tab-panel`;\n\nexport default defineComponent({\n  name,\n  props,\n  setup(props) {\n    const renderTNodeContent = useContent();\n    const tabPanelClass = usePrefixClass('tab-panel');\n    const tabsClass = usePrefixClass('tabs');\n    const currentValue = inject<Ref<TabValue>>('currentValue');\n    const isActive = computed(() => currentValue.value === props.value);\n    const tabPanelClasses = computed(() => [`${tabPanelClass.value}`, `${tabsClass.value}__panel`]);\n    const isMount = ref(props.lazy ? isActive.value : true);\n\n    watch(\n      isActive,\n      () => {\n        if (isActive.value) {\n          if (!isMount.value) {\n            isMount.value = true;\n          }\n        } else if (props.destroyOnHide) {\n          isMount.value = false;\n        }\n      },\n      { immediate: true },\n    );\n\n    return () => {\n      if (!isMount.value) return null;\n\n      return (\n        <div v-show={isActive.value} class={tabPanelClasses.value}>\n          {renderTNodeContent('default', 'panel')}\n        </div>\n      );\n    };\n  },\n});\n","import LocalTabs from './tabs';\nimport LocalTabPanel from './tab-panel';\nimport { withInstall, WithInstallType } from '../shared';\n\nimport './style';\nimport { TdTabPanelProps, TdTabsProps } from './type';\n\nexport * from './type';\nexport type TabsProps = TdTabsProps;\nexport type TabPanelProps = TdTabPanelProps;\n\nexport const Tabs: WithInstallType<typeof LocalTabs> = withInstall(LocalTabs);\nexport const TabPanel: WithInstallType<typeof LocalTabPanel> = withInstall(LocalTabPanel);\n"],"names":["prefix","config","defineComponent","name","props","label","TabPanelProps","setup","renderTNodeContent","useContent","_createVNode","renderTNodeJSX","useTNodeJSX","tabsClass","usePrefixClass","stickyProps","computed","_objectSpread","disabled","sticky","activeClass","concat","value","disabledClass","tabsClasses","size","CLASSNAMES","SIZE","navClasses","ref","startX","startY","endX","endY","canMove","tabIndex","index","i","itemProps","length","currentValue","_toRefs","toRefs","modelValue","_useVModel","useVModel","defaultValue","onChange","_useVModel2","_slicedToArray","setCurrentValue","_children","list","children","res","forEach","child","_child$children","type","Fragment","push","apply","_toConsumableArray","filter","map","item","valueList","v","currentIndex","indexOf","navScroll","navWrap","navLine","lineStyle","moveToActiveTab","showBottomLine","tab","querySelector","line","tabInner","style","bottomLineMode","width","Number","offsetWidth","transform","offsetLeft","animation","transitionDuration","duration","onMounted","window","addEventListener","setTimeout","onBeforeUnmount","removeEventListener","onActivated","watch","nextTick","handleTabClick","event","_props2$onClick","isFunction","h","toString","onClick","handlerScroll","context","scrollTop","isFixed","_props2$onScroll","onScroll","handleTouchstart","e","swipeable","targetTouches","clientX","clientY","handleTouchmove","dValueX","Math","abs","dValueY","preventDefault","handleTouchend","provide","readonly","readerNav","badgeProps","_defineProperty","spaceEvenly","theme","TBadge","default","_default","TTabNavItem","TSticky","_mergeProps","tabPanelClass","inject","isActive","tabPanelClasses","isMount","lazy","destroyOnHide","immediate","_withDirectives","_vShow","Tabs","withInstall","LocalTabs","TabPanel","LocalTabPanel"],"mappings":"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"}